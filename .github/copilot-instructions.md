# Copilot Instructions
- **Project type**: Angular 21 standalone portfolio with SSR + hydration; Express host uses CommonEngine to serve the built app and assets (see server wiring in [server.ts](server.ts)).
- **Entry points**: Client bootstrap in [src/main.ts](src/main.ts), server bootstrap in [src/main.server.ts](src/main.server.ts); shell layout and footer live in [src/app/app.component.html](src/app/app.component.html), with the root component imports defined in [src/app/app.component.ts](src/app/app.component.ts#L1-L14).
- **Routing**: Single route mapped to the Home page in [src/app/app.routes.ts](src/app/app.routes.ts); new pages should be added here and exposed to the sitemap (see below).
- **Composition pattern**: Pages are standalone components that import the building blocks they need; example in [src/app/pages/home/home.component.ts](src/app/pages/home/home.component.ts#L1-L26) with the page template in [src/app/pages/home/home.component.html](src/app/pages/home/home.component.html).
- **Content blocks**: Use `app-content` as a section wrapper and `app-title` for headings; `smallLineSep` toggles tighter spacing via a signal-managed class list [src/app/components/title/title.component.ts](src/app/components/title/title.component.ts#L1-L16) and markup [src/app/components/content/content.component.html](src/app/components/content/content.component.html).
- **Timelines**: `app-timeline` wraps multiple `app-timeline-entry` items; entries take inputs for time span, title, jobTitle, imageSrc/link, and optional `imageBgWhite`. See inputs [src/app/components/timeline/timeline-entry/timeline-entry.component.ts](src/app/components/timeline/timeline-entry/timeline-entry.component.ts#L1-L16) and layout [src/app/components/timeline/timeline-entry/timeline-entry.component.html](src/app/components/timeline/timeline-entry/timeline-entry.component.html).
- **Cards**: `app-card` renders a responsive grid while `app-card-entry` handles icon/image, title, and body copy; signals build the icon class list and optional `colorClass` override [src/app/components/card/card-entry/card-entry.component.ts](src/app/components/card/card-entry/card-entry.component.ts#L1-L20) and template [src/app/components/card/card-entry/card-entry.component.html](src/app/components/card/card-entry/card-entry.component.html).
- **Navigation & dark mode**: Nav items are defined in [src/app/components/navigation/navigation.component.ts](src/app/components/navigation/navigation.component.ts); dark-mode toggle stores the `theme` key in localStorage, sets `documentElement.dataset.theme`, and is guarded by `isPlatformBrowser` for SSR safety [src/app/components/dark-mode-toggle/dark-mode-toggle.component.ts](src/app/components/dark-mode-toggle/dark-mode-toggle.component.ts#L1-L50).
- **Styling**: Tailwind is used across templates; dark mode is enabled via class or `[data-theme="dark"]` [tailwind.config.js](tailwind.config.js). Global animation helpers (`.animHidden`, `.animShow`, `.delay`) live in [src/styles.css](src/styles.css#L1-L28) and are applied to many timeline/card elements for staggered reveals.
- **Control flow**: Templates use the Angular v17+ built-in syntax (`@if`, `@for`) instead of `*ngIf/*ngFor`; keep using the new syntax when extending templates.
- **Assets & images**: Static images live in `src/assets`; `NgOptimizedImage` is used in timeline entries for better loading. Express serves `/assets`, `/sitemap.xml`, and `/robots.txt` from the built browser output [server.ts](server.ts).
- **Build & run**: `npm start` for dev (`ng serve`), `npm run build` to produce `dist/` and auto-run the sitemap generator, `npm run serve:ssr:personal-blog-resume` to serve the built SSR bundle (`dist/personal-blog-resume/server/server.mjs`). Unit tests: `npm test` (Karma/Jasmine).
- **Sitemap/SEO**: `generate-sitemap.js` writes `dist/personal-blog-resume/browser/sitemap.xml` with `hostname=https://lysser.me` and a single `/` URL; extend the URL list here when adding routes [generate-sitemap.js](generate-sitemap.js). The SSR server maps `/sitemap.xml` to this file so keep it in sync.
- **SSR/Hydration**: Client config enables router, hydration, and zone change detection coalescing [src/app/app.config.ts](src/app/app.config.ts#L1-L9); server config merges `provideServerRendering` with client providers [src/app/app.config.server.ts](src/app/app.config.server.ts#L1-L13). Any DOM access must be browser-guarded (pattern shown in the dark mode toggle).
- **Layout conventions**: Shell sets light/dark backgrounds and wraps content in a padded card [src/app/app.component.html](src/app/app.component.html). Sections use `app-content` margins; timeline/card children often use the `.delay` class for staggered transitions defined in [src/styles.css](src/styles.css#L17-L27).
- **Data location**: Most portfolio copy lives directly in the Home template (timelines, skills, contact); update [src/app/pages/home/home.component.html](src/app/pages/home/home.component.html) to change content while keeping component APIs consistent.
